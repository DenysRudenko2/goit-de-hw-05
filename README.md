# IoT Monitoring System with Kafka

## ÐžÐ¿Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ
Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð¾Ð½Ñ–Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ñƒ IoT Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÑ–Ð² Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð¸ Ñ‚Ð° Ð²Ð¾Ð»Ð¾Ð³Ð¾ÑÑ‚Ñ– Ð· Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐ¼ Apache Kafka Ð´Ð»Ñ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸ Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð²Ð¸Ñ… Ð´Ð°Ð½Ð¸Ñ….

## ÐÑ€Ñ…Ñ–Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸

```
Sensor Simulators â†’ building_sensors â†’ Alert Processor â†’ temperature_alerts â†’ Alert Reader
                                                      â†˜ humidity_alerts    â†—
```

## ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¸

### 1. Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ñ‚Ð¾Ð¿Ñ–ÐºÑ–Ð² (`1_create_iot_topics.py`)
Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑ” Ñ‚Ñ€Ð¸ Ñ‚Ð¾Ð¿Ñ–ÐºÐ¸ Ð² Kafka:
- `denys_rudenko_building_sensors` - Ð´Ð»Ñ Ð´Ð°Ð½Ð¸Ñ… Ð· Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÑ–Ð² (3 Ð¿Ð°Ñ€Ñ‚Ð¸Ñ†Ñ–Ñ—)
- `denys_rudenko_temperature_alerts` - Ð´Ð»Ñ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð½Ð¸Ñ… Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð² (2 Ð¿Ð°Ñ€Ñ‚Ð¸Ñ†Ñ–Ñ—)
- `denys_rudenko_humidity_alerts` - Ð´Ð»Ñ Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð² Ð²Ð¾Ð»Ð¾Ð³Ð¾ÑÑ‚Ñ– (2 Ð¿Ð°Ñ€Ñ‚Ð¸Ñ†Ñ–Ñ—)

### 2. Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ° (`2_sensor_simulator.py`)
- Ð“ÐµÐ½ÐµÑ€ÑƒÑ” ÑƒÐ½Ñ–ÐºÐ°Ð»ÑŒÐ½Ð¸Ð¹ ID Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ° Ð´Ð»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ñ— ÑÐµÑÑ–Ñ—
- Ð’Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð»ÑÑ” Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ– ÐºÐ¾Ð¶Ð½Ñ– 2-5 ÑÐµÐºÑƒÐ½Ð´:
  - Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°: 25-45Â°C
  - Ð’Ð¾Ð»Ð¾Ð³Ñ–ÑÑ‚ÑŒ: 15-85%
- ÐœÐ¾Ð¶Ð½Ð° Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Ð´ÐµÐºÑ–Ð»ÑŒÐºÐ° ÐµÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ñ–Ð² Ð´Ð»Ñ ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ñ–Ñ— Ñ€Ñ–Ð·Ð½Ð¸Ñ… Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÑ–Ð²

### 3. ÐŸÑ€Ð¾Ñ†ÐµÑÐ¾Ñ€ Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð² (`3_alerts_processor.py`)
- Ð§Ð¸Ñ‚Ð°Ñ” Ð´Ð°Ð½Ñ– Ð· `building_sensors`
- Ð“ÐµÐ½ÐµÑ€ÑƒÑ” Ð°Ð»ÐµÑ€Ñ‚Ð¸ Ð¿Ñ€Ð¸:
  - Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° > 40Â°C â†’ `temperature_alerts`
  - Ð’Ð¾Ð»Ð¾Ð³Ñ–ÑÑ‚ÑŒ > 80% Ð°Ð±Ð¾ < 20% â†’ `humidity_alerts`
- ÐÐ»ÐµÑ€Ñ‚Ð¸ Ð¼Ñ–ÑÑ‚ÑÑ‚ÑŒ: sensor_id, Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ, Ñ‡Ð°Ñ, Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ

### 4. Ð§Ð¸Ñ‚Ð°Ñ‡ Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð² (`4_alerts_reader.py`)
- ÐŸÑ–Ð´Ð¿Ð¸ÑÑƒÑ”Ñ‚ÑŒÑÑ Ð½Ð° Ð¾Ð±Ð¸Ð´Ð²Ð° Ñ‚Ð¾Ð¿Ñ–ÐºÐ¸ Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð²
- Ð’Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð²Ð°Ð½Ñ– Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾ Ð°Ð»ÐµÑ€Ñ‚Ð¸
- Ð’ÐµÐ´Ðµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð²

## Ð—Ð°Ð¿ÑƒÑÐº ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸

### ÐšÑ€Ð¾Ðº 1: Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ñ‚Ð¾Ð¿Ñ–ÐºÑ–Ð²
```bash
python 1_create_iot_topics.py
```

### ÐšÑ€Ð¾Ðº 2: Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¾Ñ†ÐµÑÐ¾Ñ€Ð° Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð²
```bash
python 3_alerts_processor.py
```

### ÐšÑ€Ð¾Ðº 3: Ð—Ð°Ð¿ÑƒÑÐº Ñ‡Ð¸Ñ‚Ð°Ñ‡Ð° Ð°Ð»ÐµÑ€Ñ‚Ñ–Ð² (Ð² Ð½Ð¾Ð²Ð¾Ð¼Ñƒ Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ð°Ð»Ñ–)
```bash
python 4_alerts_reader.py
```

### ÐšÑ€Ð¾Ðº 4: Ð—Ð°Ð¿ÑƒÑÐº ÑÐ¸Ð¼ÑƒÐ»ÑÑ‚Ð¾Ñ€Ñ–Ð² Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÑ–Ð² (Ð² Ð½Ð¾Ð²Ð¸Ñ… Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ð°Ð»Ð°Ñ…)
```bash
# Ð”Ð°Ñ‚Ñ‡Ð¸Ðº 1
python 2_sensor_simulator.py

# Ð”Ð°Ñ‚Ñ‡Ð¸Ðº 2 (Ð² Ð½Ð¾Ð²Ð¾Ð¼Ñƒ Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ð°Ð»Ñ–)
python 2_sensor_simulator.py

# ÐœÐ¾Ð¶Ð½Ð° Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ ÑÐºÑ–Ð»ÑŒÐºÐ¸ Ð·Ð°Ð²Ð³Ð¾Ð´Ð½Ð¾ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÑ–Ð²
```

## ÐœÐ¾Ð½Ñ–Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ñ‡ÐµÑ€ÐµÐ· PyCharm Kafka Plugin

1. Ð’Ñ–Ð´ÐºÑ€Ð¸Ð¹Ñ‚Ðµ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Big Data Tools
2. ÐŸÐµÑ€ÐµÐ¹Ð´Ñ–Ñ‚ÑŒ Ð´Ð¾ Topics
3. Ð—Ð½Ð°Ð¹Ð´Ñ–Ñ‚ÑŒ Ñ‚Ð¾Ð¿Ñ–ÐºÐ¸:
   - `denys_rudenko_building_sensors`
   - `denys_rudenko_temperature_alerts`
   - `denys_rudenko_humidity_alerts`
4. ÐœÐ¾Ð¶Ð½Ð° Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ´Ð°Ñ‚Ð¸ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ñ‡Ð°ÑÑ–

## ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ Ð²Ð¸Ð²Ð¾Ð´Ñƒ

### Sensor Simulator:
```
Starting sensor simulation with ID: sensor_4521
[1] Sent: Temp=32.5Â°C, Humidity=65.3%
[2] Sent: Temp=41.2Â°C, Humidity=82.1%
```

### Alerts Processor:
```
Received: sensor_4521 - Temp: 41.2Â°C, Humidity: 82.1%
  âš ï¸  TEMPERATURE ALERT sent for sensor_4521: 41.2Â°C
  âš ï¸  HIGH HUMIDITY ALERT sent for sensor_4521: 82.1%
```

### Alerts Reader:
```
================================================================================
ðŸŒ¡ï¸  TEMPERATURE ALERT!
--------------------------------------------------------------------------------
ðŸ“ Sensor ID:    sensor_4521
ðŸ“Š Value:        41.2Â°C
âš ï¸  Threshold:    40Â°C
ðŸ“ Message:      HIGH TEMPERATURE ALERT! Temperature 41.2Â°C exceeds threshold 40Â°C
================================================================================
```

## Ð—ÑƒÐ¿Ð¸Ð½ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸
ÐÐ°Ñ‚Ð¸ÑÐ½Ñ–Ñ‚ÑŒ `Ctrl+C` Ð² ÐºÐ¾Ð¶Ð½Ð¾Ð¼Ñƒ Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ð°Ð»Ñ– Ð´Ð»Ñ Ð·ÑƒÐ¿Ð¸Ð½ÐºÐ¸ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð°.